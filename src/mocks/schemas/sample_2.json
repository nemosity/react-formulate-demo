{
  "config": {
    "paginated": true,
    "inlineValidation": true,
    "name": "Dynamic Claim"
  },
  "schema": [
    {
      "pageId": "Incident Type",
      "content": {
        "groupId": "incident-type",
        "label": "What best describes your incident?",
        "elements": [
          {
            "id": "incident.type",
            "widget": "Radio",
            "validation": {
              "required": true
            },
            "values": [
              {
                "label": "Accident",
                "value": "accident"
              },
              {
                "label": "Fire",
                "value": "fire"
              },
              {
                "label": "Theft",
                "value": "theft"
              }
            ],
            "label": {
              "text": "",
              "params": {
                "type": "incident.type"
              }
            }
          }
        ]
      }
    },
    {
      "pageId": "About the incident",
      "content": {
        "groupId": "other-driver-details",
        "elements": [
          {
            "id": "tp-involed",
            "widget": "Radio",
            "placeholder": "",
            "values": [
              {
                "label": "Yes",
                "value": "yes"
              },
              {
                "label": "No",
                "value": "no"
              }
            ],
            "label": "Was another vehicle involved?",
            "validation": {
              "required": true
            }
          },
          {
            "id": "other-drivers",
            "widget": "Repeater",
            "label": "Please add other drivers involved",
            "showIf": {
              "id": "tp-involed",
              "value": "yes"
            },
            "properties": {
              "name": "Other driver",
              "minRepeats": 1,
              "maxRepeats": 3
            },
            "elements": [
              {
                "id": "name",
                "widget": "Input",
                "placeholder": "",
                "label": "Driver name",
                "validation": {
                  "required": true,
                  "pattern": "^[A-Za-z\\s]+$"
                }
              },
              {
                "id": "insured",
                "widget": "Dropdown",
                "placeholder": "",
                "label": "Who is the third party insured with?",
                "validation": {
                  "required": true
                },
                "properties": {
                  "src": "/refData.json"
                }
              },
              {
                "id": "damaged",
                "widget": "Radio",
                "placeholder": "",
                "validation": {
                  "required": true
                },
                "values": [
                  {
                    "label": "Yes",
                    "value": "yes"
                  },
                  {
                    "label": "No",
                    "value": "no"
                  }
                ],
                "label": "Was their car damaged?"
              },
              {
                "id": "damage-description",
                "widget": "Input",
                "placeholder": "E.g. small dent to left bumper",
                "label": "What was damaged?",
                "validation": {
                  "required": true
                },
                "showIf": {
                  "id": "damaged",
                  "value": "yes"
                }
              }
            ]
          }
        ],
        "label": "Other driver details"
      }
    },
    {
      "pageId": "Your details",
      "showIf": {
        "id": "tp-involed",
        "value": "yes"
      },
      "content": {
        "groupId": "at-fault-details",
        "label": "Responsibility",
        "elements": [
          {
            "id": "at-fault",
            "widget": "Select",
            "values": [
              {
                "label": "Me",
                "value": "me"
              },
              {
                "ref": "other-drivers",
                "label": "name",
                "value": "$path"
              },
              {
                "label": "Someone else",
                "value": "tp"
              },
              {
                "label": "Not sure",
                "value": "unknown"
              }
            ],
            "label": "Who was at fault?",
            "validation": {
              "required": true
            }
          }
        ]
      }
    },
    {
      "pageId": "Done!",
      "content": {
        "groupId": "complete",
        "elements": [],
        "label": "Thanks, we've recieved your claim!"
      }
    }
  ]
}