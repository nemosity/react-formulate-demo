(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e){e.exports={config:{paginated:!0,inlineValidation:!0,name:"Dynamic Quote"},schema:[{pageId:"\ud83d\udc64",content:{groupId:"name",label:"First, let's get acquainted :)",elements:[{id:"user.firstName",widget:"Input",placeholder:"First name",validation:{required:!0}},{id:"user.lastName",widget:"Input",placeholder:"Last name (optional)"}]}},{pageId:"\ud83d\udcc5",content:{groupId:"coverage-date",label:{text:"Nice to meet you, {{firstName}}! What day would you like your cover to start?",params:{firstName:"user.firstName"}},elements:[{id:"coverage.date",widget:"Datepicker",placeholder:"",label:"",validation:{required:!0}}]}},{pageId:"\ud83c\udfe0",content:{groupId:"product",label:"Are you currently renting or a homeowner?",elements:[{id:"coverage.type",widget:"Radio",placeholder:"",values:[{label:"Renting",value:"renter"},{label:"Homeowner",value:"homeowner"}],label:"",validation:{required:!0}}]}},{pageId:"\ud83d\udc8e",content:{groupId:"product",label:{text:"Alrighty! Let's get you a quote for {{coverType}}'s insurance \ud83d\udc4d",params:{coverType:"coverage.type"}},elements:[{id:"product.items",widget:"Radio",placeholder:"",values:[{label:"Yep",value:"yes"},{label:"Nope",value:"no"}],label:"Do you have any jewellery, bikes or cameras needing cover?"},{id:"items",widget:"Repeater",label:"",showIf:{id:"product.items",value:"yes"},properties:{name:"Item",minRepeats:1,maxRepeats:3},elements:[{id:"description",widget:"Input",placeholder:"Description",label:"",validation:{required:!0,pattern:"^[A-Za-z\\s]+$"}},{id:"value",widget:"Input",placeholder:"Value",label:"",validation:{required:!0}}]}]}},{pageId:"\ud83d\udce4",content:{groupId:"contact",label:{text:"Almost done!",params:{coverType:"coverage.type"}},elements:[{id:"main-contact.preferred-method",widget:"Radio",placeholder:"",values:[{label:"Text (SMS)",value:"sms"},{label:"Email",value:"email"}],label:"How would you like to receive you quote?"},{id:"main-contact.mobile",widget:"Input",placeholder:"Mobile",label:"",showIf:{id:"main-contact.preferred-method",value:"sms"},validation:{required:!0,pattern:"^02[-\\s0-9]*$",minLength:9,maxLength:12}},{id:"main-contact.email",widget:"Input",placeholder:"Email",label:"",showIf:{id:"main-contact.preferred-method",value:"email"},validation:{required:!0,pattern:"^[&_A-Za-z0-9-'+?]+(\\.[&_A-Za-z0-9-'+?]+)*@[&A-Za-z0-9-]+(\\.[&A-Za-z0-9-]+)*(\\.[&_A-Za-z0-9-]+)$"}}]}},{pageId:"\ud83d\ude4c",content:{groupId:"done",elements:[],label:{text:"Thanks, {{name}}! We've sent your quote through to {{mobile}}{{email}}",params:{mobile:"main-contact.mobile",email:"main-contact.email",name:"user.firstName"}}}}]}},126:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(93)),r=i(a(220)),o=a(99),l=a(58);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,a){var i={},u=Object.assign({},t);return function e(a,c){var s=function(e,t){return(0,r.default)(i,(0,l.joinPath)(e,c),t)},d=function(e){return(0,n.default)(t,(0,l.joinPath)(e,c))};if(Array.isArray(a))return a.map(function(t){return e(t,c)});if(a.groupId)return a.elements.map(function(t){return e(t,c)});if(a.showIf&&d(a.showIf.id)!==a.showIf.value)return u=(0,o.unset)((0,l.joinPath)(a.id,c),u),null;if(a.elements){var f=d(a.id);return Array.isArray(f)&&f.map(function(t,n){return e(a.elements,(0,l.joinPath)((0,l.addIndex)(a.id,n),c))}),null}if(a.validation){if(a.validation.required&&!d(a.id))return s(a.id,"This field is required");if(a.validation.minLength&&d(a.id).length<a.validation.minLength)return s(a.id,"Failed to meet minimum length of ".concat(a.validation.minLength," characters"));if(a.validation.maxLength&&d(a.id).length>a.validation.maxLength)return s(a.id,"Please limit input to ".concat(a.validation.maxLength," characters"));if(a.validation.pattern&&!new RegExp(a.validation.pattern).test(d(a.id)))return s(a.id,"Failed to match regex ".concat(a.validation.pattern))}}(e,a),{errors:Object.keys(i).length>0?i:null,cleanInput:u}}},134:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},139:function(e){e.exports={config:{paginated:!0,inlineValidation:!0,name:"Dynamic Claim"},schema:[{pageId:"Incident Type",content:{groupId:"incident-type",label:"What best describes your incident?",elements:[{id:"incident.type",widget:"Radio",validation:{required:!0},values:[{label:"Accident",value:"accident"},{label:"Fire",value:"fire"},{label:"Theft",value:"theft"}],label:{text:"",params:{type:"incident.type"}}}]}},{pageId:"About the incident",content:{groupId:"other-driver-details",elements:[{id:"tp-involed",widget:"Radio",placeholder:"",values:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],label:"Was another vehicle involved?",validation:{required:!0}},{id:"other-drivers",widget:"Repeater",label:"Please add other drivers involved",showIf:{id:"tp-involed",value:"yes"},properties:{name:"Other driver",minRepeats:1,maxRepeats:3},elements:[{id:"name",widget:"Input",placeholder:"",label:"Driver name",validation:{required:!0,pattern:"^[A-Za-z\\s]+$"}},{id:"insured",widget:"Dropdown",placeholder:"",label:"Who is the third party insured with?",validation:{required:!0},properties:{src:"/refData.json"}},{id:"damaged",widget:"Radio",placeholder:"",validation:{required:!0},values:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],label:"Was their car damaged?"},{id:"damage-description",widget:"Input",placeholder:"E.g. small dent to left bumper",label:"What was damaged?",validation:{required:!0},showIf:{id:"damaged",value:"yes"}}]}],label:"Other driver details"}},{pageId:"Your details",showIf:{id:"tp-involed",value:"yes"},content:{groupId:"at-fault-details",label:"Responsibility",elements:[{id:"at-fault",widget:"Radio",values:[{label:"Me",value:"me"},{ref:"other-drivers",label:"name",value:"$path"},{label:"Someone else",value:"tp"},{label:"Not sure",value:"unknown"}],label:"Who was at fault?",validation:{required:!0}}]}},{pageId:"Done!",content:{groupId:"complete",elements:[],label:"Thanks, we've recieved your claim!"}}]}},154:function(e,t,a){e.exports=a(310)},163:function(e,t,a){},164:function(e,t,a){},174:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(0),r=i(a(92)),o=i(a(93)),l=a(58);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){c(e,t,a[t])})}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,m(t).apply(this,arguments))}var a,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.Component),a=t,(r=[{key:"render",value:function(){var e=this.props,t=e.schema,a=e.data,r=e.onUpdate,i=e.errors,c=e.i18n,f=e.onValidateElement,p=e.basePath,m=e.widgets,v=e.config,b=void 0===v?{}:v,h=function(e){return"object"===d(e)?c(e.text,(t=e.params,Object.keys(t).reduce(function(e,n){return e[n]=(0,o.default)(a,t[n]),e},{}))):e;var t};return function e(t,c){var d=function(e){return(0,l.joinPath)(e,c)};return Array.isArray(t)?n.createElement.apply(void 0,[n.Fragment,null].concat(s(t.map(function(t){return e(t,c)})))):t.groupId?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h4",null,h(t.label)),e(t.elements,c)):"Repeater"===t.widget?t.showIf&&(0,o.default)(a,d(t.showIf.id))!==t.showIf.value?null:(0,n.createElement)(m[t.widget],u({},t.properties,{id:d(t.id),error:(0,o.default)(i,d(t.id)),value:(0,o.default)(a,d(t.id),t.defaultValue||""),placeholder:t.placeholder,label:h(t.label),onChange:function(e){return r(d(t.id),e)},elements:t.elements,path:d(t.id),processNode:e,button:m.Button})):!m[t.widget]||t.showIf&&(0,o.default)(a,d(t.showIf.id))!==t.showIf.value?null:(0,n.createElement)(m[t.widget],u({},t.properties,{id:d(t.id),error:(0,o.default)(i,d(t.id)),value:(0,o.default)(a,d(t.id),t.defaultValue||""),placeholder:t.placeholder,label:h(t.label),onChange:function(e){r(d(t.id),e),b.inlineValidation&&!t.elements&&(0,o.default)(i,d(t.id))&&f(t,c)},onBlur:function(){b.inlineValidation&&f(t,c)},values:t.values&&t.values.reduce(function(e,t){if(t.ref){var n=(0,o.default)(a,t.ref);Array.isArray(n)?n.map(function(a,n){return(0,o.default)(a,t.label)&&e.push({label:(0,o.default)(a,t.label),value:(0,l.addIndex)(t.ref,n)})}):(0,o.default)(n,t.value)&&e.push({label:(0,o.default)(n,t.label),value:(0,o.default)(n,t.value)})}else e.push(t);return e},[])}))}(t,p)}}])&&f(a.prototype,r),i&&f(a,i),t}();b.propTypes={schema:r.default.oneOfType([r.default.shape({id:r.default.string}),r.default.shape({groupId:r.default.string}),r.default.shape({id:r.default.string}),r.default.arrayOf(r.default.oneOfType([r.default.shape({id:r.default.string}),r.default.shape({groupId:r.default.string}),r.default.shape({id:r.default.string})]).isRequired)]).isRequired,data:function(e){var t=0;return e.data&&(t+=1),t&&5!==t?new Error("Must provide all props"):null},onUpdate:r.default.func,errors:r.default.objectOf(r.default.string),i18n:r.default.func,onValidateElement:r.default.func,basePath:r.default.string,widgets:r.default.objectOf(r.default.elementType).isRequired,config:r.default.shape({inlineValidation:r.default.bool})},b.defaultProps={data:null,onUpdate:function(){},onValidateElement:function(){},i18n:function(e){return e},config:{},basePath:null,errors:{}};var h=b;t.default=h},214:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(0)),r=c(a(92)),o=c(a(93)),l=a(58),i=c(a(215)),u=c(a(126));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){d(e,t,a[t])})}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(u){r=!0,o=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v={errors:null,validateForm:!1,validateNode:null,formComplete:!1,data:{}},b=function(e){var t=e.schema,a=e.onUpdate,r=e.onSubmit,c=e.i18n,d=e.basePath,b=e.widgets,h=e.config,y=void 0===h?{}:h,E=m((0,n.useReducer)(i.default,v),2),g=E[0],O=E[1],A=g.data,w=g.validateForm,j=g.validateNode,I=g.errors;(0,n.useEffect)(function(){if(w){var e=(0,u.default)(t,A);e.errors?O({type:"VALIDATE_FORM_FAIL",payload:e.errors}):(O({type:"VALIDATE_FORM_SUCCESS",payload:e.cleanInput}),r(e.cleanInput))}},[w]),(0,n.useEffect)(function(){if(j){var e=m(j,2),t=e[0],a=e[1],n=(0,u.default)(t,A);n.errors?O({type:"VALIDATE_ELEMENT_FAIL",payload:n.errors}):O({type:"VALIDATE_ELEMENT_SUCCESS",payload:a})}},[j]);var T=function(e){return"object"===p(e)?c(e.text,(t=e.params,void Object.keys(t).reduce(function(e,a){return e[a]=(0,o.default)(A,t[a]),e},{}))):e;var t};return n.default.createElement(n.Fragment,null,function e(t,r){var i=function(e){return(0,l.joinPath)(e,r)};return Array.isArray(t)?n.createElement.apply(void 0,[n.Fragment,null].concat(f(t.map(function(t){return e(t,r)})))):t.groupId?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h4",null,T(t.label)),e(t.elements,r)):"Repeater"===t.widget?t.showIf&&(0,o.default)(A,i(t.showIf.id))!==t.showIf.value?null:(0,n.createElement)(b[t.widget],s({},t.properties,{id:i(t.id),error:(0,o.default)(I,i(t.id)),value:(0,o.default)(A,i(t.id),t.defaultValue||""),placeholder:t.placeholder,label:T(t.label),onChange:function(e){return a(i(t.id),e)},elements:t.elements,path:i(t.id),processNode:e,button:b.Button})):!b[t.widget]||t.showIf&&(0,o.default)(A,i(t.showIf.id))!==t.showIf.value?null:(0,n.createElement)(b[t.widget],s({},t.properties,{id:i(t.id),error:(0,o.default)(I,i(t.id)),value:(0,o.default)(A,i(t.id),t.defaultValue||""),placeholder:t.placeholder,label:T(t.label),onChange:function(e){y.inlineValidation&&!t.elements&&(0,o.default)(I,i(t.id))?O({type:"UPDATE_INPUT_AND_VALIDATE_ELEMENT",payload:[e,i(t.id),t]}):O({type:"UPDATE_INPUT",payload:[e,i(t.id)]})},onBlur:function(){y.inlineValidation&&O({type:"VALIDATE_ELEMENT",payload:[t,r]})},values:t.values&&t.values.reduce(function(e,t){if(t.ref){var a=(0,o.default)(A,t.ref);Array.isArray(a)?a.map(function(a,n){return(0,o.default)(a,t.label)&&e.push({label:(0,o.default)(a,t.label),value:(0,l.addIndex)(t.ref,n)})}):(0,o.default)(a,t.value)&&e.push({label:(0,o.default)(a,t.label),value:(0,o.default)(a,t.value)})}else e.push(t);return e},[])}))}(t,d),(0,n.createElement)(b.Button,{onClick:function(){O({type:"VALIDATE_FORM"})},label:"Submit"}))};b.propTypes={schema:r.default.oneOfType([r.default.shape({id:r.default.string}),r.default.shape({groupId:r.default.string}),r.default.shape({id:r.default.string}),r.default.arrayOf(r.default.oneOfType([r.default.shape({id:r.default.string}),r.default.shape({groupId:r.default.string}),r.default.shape({id:r.default.string})]).isRequired)]).isRequired,data:r.default.oneOfType([r.default.objectOf(r.default.string)]).isRequired,onUpdate:r.default.func,onSubmit:r.default.func.isRequired,errors:r.default.objectOf(r.default.string),i18n:r.default.func,onValidateElement:r.default.func,basePath:r.default.string,widgets:r.default.objectOf(r.default.elementType).isRequired,config:r.default.shape({inlineValidation:r.default.bool})},b.defaultProps={onUpdate:function(){},onValidateElement:function(){},i18n:function(e){return e},config:{},basePath:null,errors:{}};var h=b;t.default=h},215:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(99);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(u){r=!0,o=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){l(e,t,a[t])})}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=function(e,t){var a=t.type,l=t.payload;switch(a){case"FORM_RESET":return o({},l);case"UPDATE_INPUT":var i=r(l,2),u=i[0],c=i[1];return(0,n.flow)((0,n.set)("data.".concat(c),u))(e);case"UPDATE_INPUT_AND_VALIDATE_ELEMENT":var s=r(l,3),d=s[0],f=s[1],p=s[2];return(0,n.flow)((0,n.set)("data.".concat(f),d),(0,n.set)("validateNode",[p,f]))(e);case"VALIDATE_FORM":return(0,n.flow)((0,n.set)("validateForm",!0))(e);case"VALIDATE_FORM_FAIL":return o({},e,{validateForm:!1,errors:l});case"VALIDATE_FORM_SUCCESS":return(0,n.flow)((0,n.set)("data",l),(0,n.set)("errors",null),(0,n.set)("validateForm",!1),(0,n.set)("formComplete",!0))(e);case"VALIDATE_ELEMENT":var m=r(l,2),v=m[0],b=m[1];return(0,n.flow)((0,n.set)("validateNode",[v,b]))(e);case"VALIDATE_ELEMENT_FAIL":return o({},e,{validateNode:null,errors:(0,n.merge)(e.errors,l)});case"VALIDATE_ELEMENT_SUCCESS":return(0,n.flow)((0,n.unset)("errors.".concat(l)),(0,n.set)("validateNode",null))(e);default:return e}};t.default=i},225:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(0)),r=u(a(92)),o=a(99),l=u(a(226)),i=a(58);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){var e,a,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(e=!(n=f(t).call(this))||"object"!==c(n)&&"function"!==typeof n?p(a):n).addItem=e.addItem.bind(p(e)),e.canRemoveItem=e.canRemoveItem.bind(p(e)),e.canAddItem=e.canAddItem.bind(p(e)),e}var a,r,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),a=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.value,a=e.minRepeats,n=e.onChange;!Array.isArray(t)&&a&&n((0,l.default)(Array(a),{}))}},{key:"addItem",value:function(){var e=this.props,t=e.onChange,a=e.value;t([].concat(s(Array.isArray(a)?a:[]),[{}]))}},{key:"canAddItem",value:function(){var e=this.props,t=e.maxRepeats,a=e.value;return t&&Array.isArray(a)&&a.length>=t}},{key:"canRemoveItem",value:function(){var e=this.props,t=e.minRepeats,a=e.value;return!!(t&&Array.isArray(a)&&a.length<=t)}},{key:"removeItem",value:function(e){var t=this.props,a=t.onChange,n=t.value;a((0,o.pullAt)(e,n))}},{key:"renderItems",value:function(){var e=this,t=this.props,a=t.value,r=t.name,o=t.button,l=t.path,u=t.processNode,c=t.elements;return Array.isArray(a)?a.map(function(t,a){return n.default.createElement("div",{key:a,className:"repeater-item"},n.default.createElement("span",{className:"remove"},(0,n.createElement)(o,{onClick:function(){return e.removeItem(a)},disabled:e.canRemoveItem(),label:"Remove",className:"dynamic-form__remove"})),n.default.createElement("h3",null,"".concat(r," ").concat(a+1)),u(c,(0,i.addIndex)(l,a)))}):null}},{key:"render",value:function(){var e=this.props,t=e.button,a=e.label,r=e.name;return n.default.createElement("div",null,n.default.createElement("label",{className:"dynamic-form__label"},a),n.default.createElement("div",{className:"repeater-group"},this.renderItems(),(0,n.createElement)(t,{onClick:this.addItem,disabled:this.canAddItem(),label:"Add ".concat(r),className:"dynamic-form__add"})))}}])&&d(a.prototype,r),u&&d(a,u),t}();v.propTypes={value:r.default.arrayOf(r.default.object),minRepeats:r.default.number,maxRepeats:r.default.number.isRequired,onChange:r.default.func.isRequired,label:r.default.string.isRequired,name:r.default.string.isRequired,button:r.default.elementType.isRequired,path:r.default.string.isRequired,processNode:r.default.func.isRequired,elements:r.default.oneOfType([r.default.shape({id:r.default.string}),r.default.shape({groupId:r.default.string}),r.default.shape({id:r.default.string}),r.default.arrayOf(r.default.oneOfType([r.default.shape({id:r.default.string}),r.default.shape({groupId:r.default.string}),r.default.shape({id:r.default.string})]).isRequired)]).isRequired},v.defaultProps={value:"",minRepeats:0};var b=v;t.default=b},310:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(53),l=a(14),i=a.n(l),u=(a(163),a(72)),c=a(73),s=a(84),d=a(74),f=a(85),p=a(134),m=a.n(p),v=(a(164),a(135)),b=a.n(v),h=a(370),y={SCHEMA:{ERROR:"SCHEMA.ERROR",LOAD:"SCHEMA.LOAD",UPDATE:"SCHEMA.UPDATE"},FORM:{CLEAN:"FORM.CLEAN",CLEAR:"FORM.CLEAR",MOVE_NEXT:"FORM.MOVE_NEXT",MOVE_BACK:"FORM.MOVE_BACK",SUBMIT:"FORM.SUBMIT",UPDATE:{INPUT:"FORM.UPDATE.INPUT",STEP:"FORM.UPDATE.STEP"},VALIDATE:"FORM.VALIDATE",VALIDATE_ELEMENT:"FORM.VALIDATE_ELEMENT",VALIDATE_ELEMENT_FAIL:"FORM.VALIDATE_ELEMENT_FAIL",VALIDATE_ELEMENT_SUCCESS:"FORM.VALIDATE_ELEMENT_SUCCESS",VALIDATE_FAIL:"FORM.VALIDATE_FAIL"}},E=Object(h.a)(y.FORM.CLEAR),g=Object(h.a)(y.FORM.UPDATE.INPUT),O=(Object(h.a)(y.FORM.UPDATE.STEP),Object(h.a)(y.FORM.MOVE_BACK)),A=Object(h.a)(y.FORM.SUBMIT),w=Object(h.a)(y.FORM.VALIDATE),j=Object(h.a)(y.FORM.VALIDATE_ELEMENT),I=a(33),T=a(354),S=a(373),_=a(357),R=a(369),M=Object(T.a)(function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}),N=function(e){var t=e.steps,a=e.activeStep,n=M();return r.a.createElement("div",{className:n.root},r.a.createElement(S.a,{activeStep:a,alternativeLabel:!0},t.map(function(e){return r.a.createElement(_.a,{key:e},r.a.createElement(R.a,null,e))})))},P=a(30),L=a(83),D=a(111),F=a(144),C=a(358),k=function(e){return r.a.createElement("span",{className:"u-mar--2 u-align-items--center u-justify-content--center"},r.a.createElement(C.a,Object.assign({variant:"contained",color:"secondary"},e),e.label||e.children))},x=a(142),V=a(110),U=function(e){return r.a.createElement("div",{className:"formElement"},r.a.createElement(V.b,{utils:x.a},r.a.createElement(V.a,{margin:"normal",label:e.label,value:e.value||function(){var t=(new Date).toISOString();return e.onChange(t),t}(),onChange:function(t){e.onChange(t)}})))},q=a(367),B=a(363),W=a(361),H=a(362),z=function(e){return r.a.createElement("div",{className:"formElement"},r.a.createElement(W.a,{error:!!e.error,fullWidth:!0},r.a.createElement(H.a,{component:"legend"},e.label),r.a.createElement(q.a,Object.assign({fullWidth:!0},e,{label:null,onChange:function(t){return e.onChange(t.target.value)},margin:"normal",variant:"outlined"})),e.error&&r.a.createElement(B.a,null,e.error)))},J=a(368),Z=a(375),X=a(364),$=function(e){return r.a.createElement("div",{className:"formElement"},r.a.createElement(W.a,{error:!!e.error,component:"fieldset"},r.a.createElement(H.a,{component:"legend"},e.label),r.a.createElement(Z.a,Object.assign({},e,{"aria-label":e.label,name:e.id,onChange:function(t){return e.onChange(t.target.value)}}),e.values.map(function(e,t){return r.a.createElement(X.a,{key:t,value:e.value,control:r.a.createElement(J.a,null),label:e.label})})),e.error&&r.a.createElement(B.a,null,e.error)))},G=a(360),K=a(365),Y=a(374),Q={Button:k,Datepicker:U,Input:z,Radio:$,Select:function(e){return r.a.createElement("div",{className:"formElement"},r.a.createElement(W.a,{error:!!e.error,className:"selectComponent",fullWidth:!0},r.a.createElement(H.a,{component:"legend"},e.label),r.a.createElement(K.a,Object.assign({fullWidth:!0},e,{label:null,onChange:function(t){return e.onChange(t.target.value)},input:r.a.createElement(G.a,{name:e.name,id:e.id,labelWidth:120})}),e.values.map(function(e,t){return r.a.createElement(Y.a,{key:t,value:e.value},e.label)})),e.error&&r.a.createElement(B.a,null,e.error)))},Textarea:function(e){return r.a.createElement("div",{className:"formElement"},r.a.createElement(W.a,{error:!!e.error,className:"Textarea",fullWidth:!0},r.a.createElement(H.a,{component:"legend"},e.label),r.a.createElement(q.a,Object.assign({fullWidth:!0},e,{label:null,onChange:function(t){return e.onChange(t.target.value)},margin:"normal",multiline:!0,rows:5,variant:"outlined"})),e.error&&r.a.createElement(B.a,null,e.error)))}},ee=function(e){var t=e.src,a=Object(F.a)(e,["src"]),o=Object(n.useState)([{label:"Loading...",value:""}]),l=Object(D.a)(o,2),i=l[0],u=l[1],c=Object(n.useState)(!0),s=Object(D.a)(c,2),d=s[0],f=s[1];return Object(n.useEffect)(function(){t&&fetch(t).then(function(e){return e.json()}).then(function(e){return setTimeout(function(){u([{label:"Please select",value:""}].concat(Object(L.a)(e))),f(!1)},1e3)}).catch(function(e){return console.log(e)})},[t]),r.a.createElement(Q.Select,Object.assign({},a,{values:i,className:d?"disable-select":null}))},te=Object(P.a)({Repeater:I.Repeater,Dropdown:ee},Q),ae=te.Button,ne=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderAlert=function(){return r.a.createElement("div",{id:"successLozenge",icon:"icon__attention",type:a.props.valid?"success":"warning",className:"u-mar-b--3",inline:!0},r.a.createElement("p",null,a.props.valid?"Valid schema":"Enter a valid schema or select a schema to load"))},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.valid?this.props.schema.config.paginated?r.a.createElement("div",{className:"form-container"},r.a.createElement(N,{steps:this.props.schema.schema.map(function(e){return e.pageId}),activeStep:this.props.step}),r.a.createElement(b.a,{transitionName:"background",transitionEnterTimeout:700,transitionLeaveTimeout:1},this.props.schema.schema.map(function(t,a){return e.props.step===a?r.a.createElement("div",{className:"form-slide"},r.a.createElement(I.DynamicForm,{schema:t.content,data:e.props.form,onUpdate:e.props.onUpdateForm,errors:e.props.errors,onValidateElement:e.props.onValidateElement,widgets:te,config:e.props.schema.config||{},i18n:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).map(function(a){return e=e.replace("{{".concat(a,"}}"),t[a]||"")}),e}}),r.a.createElement("div",{className:"buttonGroup"},r.a.createElement(ae,{tracking:"eg1",onClick:function(){return e.props.onMoveBack()},variant:"outlined",disabled:e.props.step-1<0},"Back"),r.a.createElement(ae,{name:"eg2",onClick:function(){return e.props.onValidateForm(e.props.step)},primary:!0,disabled:e.props.step+1>e.props.schema.schema.length-1},"Next"))):null}))):r.a.createElement("div",{className:"form-container"},r.a.createElement(I.StatefulDynamicForm,{schema:this.props.schema.schema,data:this.props.form,errors:this.props.errors,onSubmit:this.props.onSubmit,widgets:te,config:this.props.schema.config||{}})):this.renderAlert()}}]),t}(n.Component),re=Object(o.b)(function(e){var t=e.form,a=e.schema;return{errors:t.errors,form:t.input,step:t.step,schema:a.parsedSchema,valid:a.valid}},function(e){return{onUpdateForm:function(t,a){return e(g({path:t,data:a}))},onMoveBack:function(t){return e(O(t))},onValidateForm:function(t){return e(w(t))},onValidateElement:function(t,a){return e(j({schema:t,path:a}))},onSubmit:function(t){return e(A(t))}}})(ne),oe=a(109),le=a(139),ie=Object(h.a)(y.SCHEMA.UPDATE),ue=Q.Button,ce=Q.Textarea,se=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onSchemaUpdate(JSON.stringify(oe,null,4))}},{key:"renderProgressBar",value:function(){var e,t;try{e=JSON.parse(this.props.schema),t=!0}catch(a){t=!1}return t&&e.config.paginated?r.a.createElement("div",{class:"progress rounded-0"},r.a.createElement("div",{class:"progress-bar",role:"progressbar",style:{width:"".concat((this.props.form.step+1)/e.schema.length*100,"%")},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"})):null}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"http://nemosity.github.io"},r.a.createElement("img",{src:m.a,width:"40",height:"40",className:"d-inline-block align-top App-logo",alt:"logo"}),r.a.createElement("span",{className:"navbar-brand mb-0 h1"},"React Formulate")),r.a.createElement("span",{className:"navbar-brand mb-0"},"v0.0.2")),this.renderProgressBar(),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",null,r.a.createElement("h2",null,this.props.valid&&this.props.parsedSchema.config.name||"Dynamic Form")),r.a.createElement("div",{className:"dynamic-form"},r.a.createElement(re,null))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"content-panel"},r.a.createElement("h2",null,"Schema"),r.a.createElement("div",{className:"code"},r.a.createElement(ce,{id:"textarea",rows:8,onChange:this.props.onSchemaUpdate,value:this.props.schema})),r.a.createElement("div",{className:"buttonGroup"},r.a.createElement(ue,{tracking:"eg1",onClick:function(){return e.props.onSchemaUpdate(JSON.stringify(oe,null,4))},primary:!0},"ONLINE QUOTE"),r.a.createElement(ue,{name:"eg2",onClick:function(){return e.props.onSchemaUpdate(JSON.stringify(le,null,4))},primary:!0},"ONLINE CLAIM"))),r.a.createElement("div",{className:"content-panel"},r.a.createElement("div",{className:""},r.a.createElement("h2",null,"Generated Payload")),r.a.createElement("div",{className:"code"},r.a.createElement(ce,{id:"formoutput",rows:8,value:JSON.stringify(this.props.form.input,null,4),readonly:!0})),r.a.createElement("div",{className:"buttonGroup"},r.a.createElement(ue,{tracking:"clearForm",onClick:function(){return e.props.onClearForm()},primary:!0},"Reset Form"))))))))}}]),t}(n.Component),de=Object(o.b)(function(e){var t=e.form,a=e.schema;return{form:t,schema:a.rawSchema,parsedSchema:a.parsedSchema,valid:a.valid}},function(e){return{onSchemaUpdate:function(t){return e(ie(t))},onClearForm:function(){return e(E())}}})(se);a(257),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=a(26),pe=(a(140),a(143)),me=a(17),ve=a.n(me),be=a(15),he=a(141),ye=a.n(he),Ee=function(e){return e.form.input},ge=function(e){return e.schema.parsedSchema.schema},Oe=ve.a.mark(Se),Ae=ve.a.mark(_e),we=ve.a.mark(Re),je=ve.a.mark(Me),Ie=ve.a.mark(Ne),Te=ve.a.mark(Pe);function Se(e){var t,a,n,r,o,l;return ve.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(be.d)(Ee);case 2:return t=i.sent,i.next=5,Object(be.d)(ge);case 5:if(a=i.sent,!Number.isInteger(e.payload)||!a[e.payload].pageId){i.next=18;break}if(n=a[e.payload].content,r=Object(I.validate)(n,t),o=r.errors,l=r.cleanInput,!o){i.next=14;break}return i.next=12,Object(be.c)({type:y.FORM.VALIDATE_FAIL,payload:o});case 12:i.next=18;break;case 14:return i.next=16,Object(be.c)({type:y.FORM.CLEAN,payload:l});case 16:return i.next=18,Object(be.c)({type:y.FORM.MOVE_NEXT,payload:e.payload});case 18:case"end":return i.stop()}},Oe)}function _e(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.e)(y.FORM.VALIDATE,Se);case 2:case"end":return e.stop()}},Ae)}function Re(e){var t,a,n,r,o,l;return ve.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(be.d)(Ee);case 2:if(t=i.sent,a=e.payload,n=a.schema,r=a.path,!n.id){i.next=13;break}if(o=Object(I.validate)(n,t,r),!(l=o.errors)){i.next=11;break}return i.next=9,Object(be.c)({type:y.FORM.VALIDATE_ELEMENT_FAIL,payload:l});case 9:i.next=13;break;case 11:return i.next=13,Object(be.c)({type:y.FORM.VALIDATE_ELEMENT_SUCCESS,payload:Object(I.joinPath)(n.id,r)});case 13:case"end":return i.stop()}},we)}function Me(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.e)(y.FORM.VALIDATE_ELEMENT,Re);case 2:case"end":return e.stop()}},je)}function Ne(e){var t,a,n,r;return ve.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(be.d)(Ee);case 2:return t=o.sent,o.next=5,Object(be.d)(ge);case 5:for(a=o.sent,n=e.payload+1,r=function(e){var n=a[e].showIf;return!(!n||ye()(t,n.id)===n.value)};r(n);)n++;return o.next=11,Object(be.c)({type:y.FORM.UPDATE.STEP,payload:n});case 11:case"end":return o.stop()}},Ie)}function Pe(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.e)(y.FORM.MOVE_NEXT,Ne);case 2:case"end":return e.stop()}},Te)}var Le=ve.a.mark(Fe),De=ve.a.mark(Ce);function Fe(e){var t,a;return ve.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{t=JSON.parse(e.payload),a=!0}catch(r){a=!1}if(!a){n.next=6;break}return n.next=4,Object(be.c)({type:y.SCHEMA.LOAD,payload:t});case 4:n.next=8;break;case 6:return n.next=8,Object(be.c)({type:y.SCHEMA.ERROR});case 8:case"end":return n.stop()}},Le)}function Ce(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.e)(y.SCHEMA.UPDATE,Fe);case 2:case"end":return e.stop()}},De)}var ke=ve.a.mark(xe);function xe(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.a)([Object(be.b)(_e),Object(be.b)(Me),Object(be.b)(Ce),Object(be.b)(Pe)]);case 2:case"end":return e.stop()}},ke)}var Ve=a(56),Ue={errors:null,input:{},step:0,visitedSteps:[]};var qe={rawSchema:"",parsedSchema:null,valid:null};var Be=Object(fe.c)({form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case y.FORM.CLEAR:case y.SCHEMA.LOAD:return Ue;case y.FORM.UPDATE.INPUT:return Object(Ve.set)("input.".concat(n.path),n.data,e);case y.FORM.CLEAN:case y.FORM.SUBMIT:return Object(Ve.set)("input",n,e);case y.FORM.UPDATE.STEP:return Object(P.a)({},e,{step:n,visitedSteps:[].concat(Object(L.a)(e.visitedSteps),[e.step]),errors:null});case y.FORM.MOVE_BACK:return Object(P.a)({},e,{step:e.visitedSteps[e.visitedSteps.length-1],visitedSteps:e.visitedSteps.slice(0,e.visitedSteps.length-1)});case y.FORM.VALIDATE_FAIL:return Object(P.a)({},e,{errors:n});case y.FORM.VALIDATE_ELEMENT_FAIL:return Object(P.a)({},e,{errors:Object(Ve.merge)(e.errors,n)});case y.FORM.VALIDATE_ELEMENT_SUCCESS:return Object(Ve.unset)("errors.".concat(n),e);default:return e}},schema:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case y.SCHEMA.UPDATE:return Object(P.a)({},e,{rawSchema:n});case y.SCHEMA.LOAD:return Object(P.a)({},e,{parsedSchema:n,valid:!0});case y.SCHEMA.ERROR:return Object(P.a)({},e,{valid:!1});default:return e}}}),We=Object(pe.a)();var He=function(e){var t=[We],a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||fe.d,n=Object(fe.e)(Be,e,a(fe.a.apply(void 0,t)));return We.run(xe),n}();i.a.render(r.a.createElement(o.a,{store:He},r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DynamicForm",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"StatefulDynamicForm",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Repeater",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"joinPath",{enumerable:!0,get:function(){return i.joinPath}});var n=u(a(174)),r=u(a(214)),o=u(a(225)),l=u(a(126)),i=a(58);function u(e){return e&&e.__esModule?e:{default:e}}},58:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addIndex=t.joinPath=void 0;t.joinPath=function(e,t){return t?t+e:e};t.addIndex=function(e,t){return"".concat(e,"[").concat(t,"]")}}},[[154,1,2]]]);
//# sourceMappingURL=main.a45fb315.chunk.js.map